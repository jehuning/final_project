<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Schedule">

	
		
	<select id="empSchedule" parameterType="hashmap" 
			resultType="com.kh.pugis.service.consulting.domain.Schedule">
		SELECT
		   EMP_ID,SCHEDULE_DATE,SCHEDULE_NAME
		FROM
			EMP_SCHEDULE
		WHERE
			emp_id = #{emp_id} 
		AND
		 	SCHEDULE_DATE BETWEEN #{sDate} AND #{fDate}
		
	</select>
	<select id="getDept" parameterType="String" resultType="String">
		SELECT
		    dept_code
		FROM
			emp_info
		WHERE emp_id=#{emp_id}
		
	</select>
	<select id="deptSchedule" parameterType="hashmap" 
			resultType="com.kh.pugis.service.consulting.domain.Schedule">
		SELECT
		   SHEDULE_DATE,SCHEDULE_DEPT,SCHEDULE_NAME
		FROM
			EMP_SCHEDULE
		WHERE
			dept_id = #{dept_id} 
		AND
		 	SCHEDULE_DATE BETWEEN #{sDate} AND #{fDate}
		
	</select>
	<select id="regularCon" parameterType="String" 
			resultType="com.kh.pugis.service.consulting.domain.Consult"><!-- sql수정필요 -->
		SELECT
		   CONSULT_SCHEDULE.CUSTOMER_ID, CUSTOMER_INFO.CUSTOMER_NAME, CONSULT_SCHEDULE.CONSULT_DATE
		FROM
			CONSULT_SCHEDULE
		JOIN 
			CUSTOMER_INFO ON(CONSULT_SCHEDULE.CUSTOMER_ID = CUSTOMER_INFO.CUSTOMER_ID)
		WHERE
			CONSULT_CODE = 'RG' 
		AND
		 	CONSULT_DATE  = #{date}
		
	</select>
	<select id="marketingCon" parameterType="String" 
			resultType="com.kh.pugis.service.consulting.domain.Consult"><!-- sql수정필요 -->
		SELECT
		   CONSULT_SCHEDULE.CUSTOMER_ID, CUSTOMER_INFO.CUSTOMER_NAME, CONSULT_SCHEDULE.CONSULT_DATE
		FROM
			CONSULT_SCHEDULE
		JOIN 
			CUSTOMER_INFO ON(CONSULT_SCHEDULE.CUSTOMER_ID = CUSTOMER_INFO.CUSTOMER_ID)
		WHERE
			CONSULT_CODE LIKE 'MK%' 
		AND
		 	CONSULT_DATE = #{date}
		
	</select>
		
</mapper>